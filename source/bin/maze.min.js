window.maze={},function(t){var e=function(){function e(t,e){this.row=new Array(t),this.row.fill(new Array(e+1).fill(!1)),this.col=new Array(e),this.col.fill(new Array(t+1).fill(!1)),this._wallArea=new i(t,e),this.closedAllWall()}return e.prototype.get=function(t,e){return(t>=this.rowLength||e>=this.colLength)&&es.Debug.error("越界"),(t<0||e<0)&&es.Debug.error("越界"),!(this.row[t][e]&&this.row[t][e+1]&&this.col[e][t]&&this.col[e][t+1])},Object.defineProperty(e.prototype,"wallArea",{get:function(){return this._wallArea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowLength",{get:function(){return this.wallArea.rowLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colLength",{get:function(){return this.wallArea.colLength},enumerable:!0,configurable:!0}),e.prototype.closedAllWall=function(){for(var t=0;t<this.rowLength;t++)for(var e=0;e<this.colLength+1;e++)this.row[t][e]=!0;for(t=0;t<this.colLength;t++)for(e=0;e<this.rowLength+1;e++)this.col[t][e]=!0},e.prototype.openArea=function(e,i){if(e.rowLength==i.rowLength)return this.row[e.rowLength][Math.max(e.colLength,i.colLength)]=!1,void t.NotificationCenter.get().dispatchEvent("destroyWall",new t.Notification(null,new r(n.row,e.rowLength,Math.max(e.colLength,i.colLength))));e.colLength==i.colLength&&(this.col[e.colLength][Math.max(e.rowLength,i.rowLength)]=!1,t.NotificationCenter.get().dispatchEvent("destroyWall",new t.Notification(null,new r(n.col,e.colLength,Math.max(e.rowLength,i.rowLength)))))},e.prototype.randomOpenStartAndPoint=function(){for(var e=[{indexMax:this.rowLength-1,rightIndex:0,wallType:n.row,wallArr:this.row},{indexMax:this.rowLength-1,rightIndex:this.colLength,wallType:n.row,wallArr:this.row},{indexMax:this.colLength-1,rightIndex:0,wallType:n.col,wallArr:this.col},{indexMax:this.colLength-1,rightIndex:this.rowLength,wallType:n.col,wallArr:this.col}][es.RandomUtils.randint(0,3)],i=es.RandomUtils.randint(0,e.indexMax);!e.wallArr[i][e.rightIndex];)i=es.RandomUtils.randint(0,e.indexMax);e.wallArr[i][e.rightIndex]=!1,t.NotificationCenter.get().dispatchEvent("destroyWall",new t.Notification(null,new r(e.wallType,i,e.rightIndex)))},e}();t.MazeWall=e;var n,i=function(){return function(t,e){this.rowLength=0,this.colLength=0,this.rowLength=t,this.colLength=e}}();t.WallArea=i,function(t){t[t.row=0]="row",t[t.col=1]="col"}(n=t.WallType||(t.WallType={}));var r=function(){return function(t,e,n){this.row=0,this.col=0,this.wallType=t,this.row=e,this.col=n}}();t.DestroyWall=r}(maze||(maze={})),function(t){var e=function(){return function(t,e){void 0===t&&(t=null),this.sender=t,this.param=e}}();t.Notification=e}(maze||(maze={})),function(t){var e=function(){function t(){this.eventListeners=new Map}return t.get=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.addEventListener=function(t,e){this.eventListeners.has(t)?this.eventListeners.get(t).push(e):this.eventListeners.set(t,[e])},t.prototype.removeEventListener=function(t,e){if(void 0===e&&(e=null),this.eventListeners.has(t))if(null!=e){var n=this.eventListeners.get(t),i=n.findIndex(function(t){return t==e});n.splice(i,1)}else this.eventListeners.get(t).length=0,this.eventListeners.delete(t)},t.prototype.dispatchEvent=function(t,e){this.eventListeners.has(t)&&this.eventListeners.get(t).forEach(function(t){return t(e)})},t.prototype.hasEventListener=function(t){return this.eventListeners.has(t)},t}();t.NotificationCenter=e}(maze||(maze={}));